{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"加载配置中..."}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"配置加载成功。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"初始化网关层..."}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"核心组件: 负载均衡器工厂已创建。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"核心组件: 健康检查器已创建。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Initializing rate limit service","total_rules":3,"service":"ratelimit","action":"initialize"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Successfully initialized rate limit rule","rule_name":"default-ip-limit","limiter_type":"default-ip-limit","service":"ratelimit","action":"rule_initialized"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Successfully initialized rate limit rule","rule_name":"auth-service-limit","limiter_type":"auth-service-limit","service":"ratelimit","action":"rule_initialized"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Successfully initialized rate limit rule","rule_name":"service-a-path-limit","limiter_type":"service-a-path-limit","service":"ratelimit","action":"rule_initialized"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Rate limit service initialization completed","active_limiters":3,"service":"ratelimit","action":"initialization_completed"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"服务层: 限流服务已成功初始化。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"Circuit breaker service initialized","failure_threshold":5,"success_threshold":2,"reset_timeout":"1m0s","service":"circuitbreaker"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"服务层: 熔断器服务已成功初始化。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"[HealthChecker] 服务已注册","service":"service-a","instance_count":2,"health_path":"/healthz"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"服务发现: 服务已注册","service":"service-a","instance_count":2}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"[HealthChecker] 服务已注册","service":"service-b","instance_count":2,"health_path":"/healthz"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"服务发现: 服务已注册","service":"service-b","instance_count":2}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"[HealthChecker] 服务已注册","service":"auth-service","instance_count":2,"health_path":"/healthz"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"服务发现: 服务已注册","service":"auth-service","instance_count":2}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"核心组件: 反向代理已创建并注入依赖。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"插件: 'rateLimit' 已成功注册。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"插件: 'auth' 已成功注册。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"插件: 'circuitBreaker' 已成功注册。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"[HealthChecker] 开始周期性健康检查..."}
{"level":"error","ts":"2025-09-29T14:55:47.452+0800","msg":"Ignored key without a value.","ignored":5,"stacktrace":"gateway.example/go-gateway/pkg/logger.(*zapLogger).Info\n\t/home/leon/GoCode/go-gateway/pkg/logger/logger.go:287\ngateway.example/go-gateway/internal/core.NewRouter\n\t/home/leon/GoCode/go-gateway/internal/core/router.go:23\ngateway.example/go-gateway/internal/core.NewGateway\n\t/home/leon/GoCode/go-gateway/internal/core/gateway.go:115\nmain.main\n\t/home/leon/GoCode/go-gateway/cmd/api-gateway/main.go:32\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:283"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"核心组件: 路由器已初始化，共加载 %d 条路由规则。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"网关核心已成功初始化并准备就绪。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"网关层初始化成功。"}
{"level":"info","ts":"2025-09-29T14:55:47.452+0800","msg":"HTTP 服务器正在端口上启动","port":":8080"}
{"level":"info","ts":"2025-09-29T14:55:47.453+0800","msg":"服务器启动中...","addr":":8080"}
{"level":"info","ts":"2025-09-29T14:56:04.520+0800","msg":"收到停止信号，服务器正在优雅地关闭..."}
{"level":"info","ts":"2025-09-29T14:56:04.520+0800","msg":"服务器已优雅关闭。"}
